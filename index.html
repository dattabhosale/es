<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LeapReplica - Electric Vehicles</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="/" class="brand">LeapReplica</a>
      <nav class="site-nav" id="site-nav">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
      <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">☰</button>
    </div>
  </header>
  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <h1>Electric mobility, designed for the future.</h1>
          <p>Explore a new generation of electric vehicles with long range, smart features, and bold design.</p>
          <p><a class="btn" href="products.html">View Models</a></p>
        </div>
        <div class="hero-media">
          <img src="assets/car-hero.jpg" alt="Electric car mockup">
        </div>
      </div>
    </section>
    <section class="highlights">
      <div class="container">
        <h2>Featured Models</h2>
        <div class="cards">
          <article class="card">
            <img src="assets/model-a.jpg" alt="Model A">
            <h3>Model A</h3>
            <p>Long range, fast charging, advanced driver assistance.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>
          <article class="card">
            <img src="assets/model-b.jpg" alt="Model B">
            <h3>Model B</h3>
            <p>Urban performance with compact design and premium interior.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>
          <article class="card">
            <img src="assets/model-c.jpg" alt="Model C">
            <h3>Model C</h3>
            <p>An intelligent SUV with family-friendly range and space.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>
        </div>
      </div>
    </section>
    <section class="about-teaser">
      <div class="container">
        <h2>Our Vision</h2>
        <p>We build electric vehicles that are safe, sustainable and delightful to drive. Technology and design come
          together to make mobility more efficient and enjoyable.</p>
        <p><a class="btn ghost" href="about.html">Learn about us</a></p>
      </div>
    </section>
  </main>
  <footer class="site-footer">
    <div class="container">
      <div>© 2025 LeapReplica</div>
      <nav class="foot-nav">
        <a href="privacy.html">Privacy</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </footer>
  <!-- Salesforce Embedded Messaging Script -->
<!-- Salesforce Embedded Messaging Script -->
<script type="text/javascript">

function initEmbeddedMessaging() {

  try {

    embeddedservice_bootstrap.settings.language = "es";
 
    window.addEventListener("onEmbeddedMessagingReady", () => {

      embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({

        Country: "Spain",

        Language: "es",

        CountryCode: "es",

      });

    });
 
    // Posizione iniziale (serve solo al primo render)

    embeddedservice_bootstrap.settings.chatButtonPosition = "60px, 30px";
 
    embeddedservice_bootstrap.init(

      "00DMA000003XnGM",

      "LPM_Leapmotor",

      "https://leapmotor--dev01.sandbox.my.site.com/ESWLPMLeapmotor1760706603231",

      {

        scrt2URL: "https://leapmotor--dev01.sandbox.my.salesforce-scrt.com",

      }

    );

  } catch (err) {

    console.error("Error loading Embedded Messaging: ", err);

  }

}
 
(function () {

  let chatOpened = false;

  let firstTimer = null;

  let followupTimer = null;

  let nudge = null;
 
  /* ===== Nudge ===== */

  function showNudge(message) {

    if (nudge) return;
 
    nudge = document.createElement("div");

    nudge.className = "chat-nudge";

    nudge.textContent = message;
 
    const closeBtn = document.createElement("span");

    closeBtn.className = "close-btn";

    closeBtn.textContent = "×";

    closeBtn.onclick = function (e) {

      e.stopPropagation();

      removeNudge();

    };
 
    nudge.appendChild(closeBtn);
 
    nudge.onclick = function () {

      window.embeddedservice_bootstrap?.open?.();

      removeNudge();

    };
 
    document.body.appendChild(nudge);

  }
 
  function removeNudge() {

    if (nudge) {

      nudge.remove();

      nudge = null;

    }

  }
 
  /* ===== Embedded Messaging Ready ===== */

  window.addEventListener("onEmbeddedMessagingReady", function () {

    document.body.classList.add("chat-launcher-fixed");
 
    if (firstTimer) clearTimeout(firstTimer);

    firstTimer = setTimeout(() => {

      if (!chatOpened) {

        showNudge("¡Habla conmigo!");

      }

    }, 30000);

  });
 
  /* ===== Click sul pulsante ===== */

  window.addEventListener("onEmbeddedMessagingButtonClicked", function () {

    chatOpened = true;

    removeNudge();

    clearTimeout(firstTimer);

    clearTimeout(followupTimer);

  });
 
  /* ===== Chat minimizzata ===== */

  window.addEventListener("onEmbeddedMessagingWindowMinimized", function () {

    chatOpened = false;
 
    clearTimeout(followupTimer);

    followupTimer = setTimeout(() => {

      showNudge("¡Sigue hablándome!");

    }, 30000);

  });

})();
</script>
 
<style>

/* =========================================================

   VARIABILI GLOBALI

   ========================================================= */

:root {

  --chat-launcher-bottom: 60px;

  --chat-launcher-right: 30px;

  --chat-nudge-offset: 70px;

}
 
/* =========================================================

   CHAT EMBEDDED – DESKTOP

   ========================================================= */

.embeddedMessagingFrame {

  transform: translateY(-80px) !important;

  border-radius: 16px !important;

  overflow: hidden !important;

}
 
.embeddedMessagingHeader {

  border-top-left-radius: 16px !important;

  border-top-right-radius: 16px !important;

}
 
.embeddedMessagingConversation {

  border-bottom-left-radius: 16px !important;

  border-bottom-right-radius: 16px !important;

}
 
/* =========================================================

   LAUNCHER – POSIZIONE BLOCCATA

   ========================================================= */

.chat-launcher-fixed .embeddedServiceLauncher,

.chat-launcher-fixed .embeddedServiceSidebarButton {

  position: fixed !important;

  bottom: var(--chat-launcher-bottom) !important;

  right: var(--chat-launcher-right) !important;

  z-index: 9999 !important;

}
 
/* =========================================================

   NUDGE

   ========================================================= */

.chat-nudge {

  position: fixed;

  bottom: calc(var(--chat-launcher-bottom) + var(--chat-nudge-offset));

  right: var(--chat-launcher-right);

  background: #ffffff;

  color: #000;

  padding: 10px 32px 10px 12px;

  border-radius: 12px;

  box-shadow: 0 6px 20px rgba(0,0,0,0.15);

  font-size: 14px;

  font-weight: 500;

  z-index: 9999;

  cursor: pointer;

  animation: bounce 5s ease-out;

}
 
@keyframes bounce {

  0% { transform: translateY(0); }

  20% { transform: translateY(-6px); }

  40% { transform: translateY(0); }

  60% { transform: translateY(-3px); }

  80% { transform: translateY(0); }

  100% { transform: translateY(0); }

}
 
/* Bottone X */

.chat-nudge .close-btn {

  position: absolute;

  top: 4px;

  right: 6px;

  font-weight: bold;

  font-size: 14px;

  color: #666;

  cursor: pointer;

}
 
.chat-nudge .close-btn:hover {

  color: #000;

}
 
/* =========================================================

   MOBILE / TABLET

   ========================================================= */

@media (max-width: 1024px) {

  :root {

    --chat-launcher-bottom: 20px;

    --chat-launcher-right: 20px;

    --chat-nudge-offset: 60px;

  }
 
  .embeddedMessagingFrame {

    transform: translateY(0) !important;

    border-radius: 0 !important;

  }
 
  .embeddedMessagingHeader,

  .embeddedMessagingConversation {

    border-radius: 0 !important;

  }

}
</style>
 

  <!-- Load Salesforce Embedded Messaging Bootstrap -->
  <script
    type="text/javascript"
    src="https://leapmotor--dev01.sandbox.my.site.com/ESWLPMLeapmotor1760706603231/assets/js/bootstrap.min.js"
    onload="initEmbeddedMessaging()"
  ></script>
</body>
</html>
